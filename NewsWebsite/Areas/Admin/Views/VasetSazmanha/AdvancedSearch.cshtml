@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@*@inject NewsWebsite.Common.StringExtensions*@
@using NewsWebsite.Data.Contracts;
@using NewsWebsite.Data;
@model List<NewsWebsite.ViewModels.Fetch.VasetSazmanhaViewModel>
@inject ProgramBuddbContext _db
@{
    ViewData["Title"] = "FetchData";
    Layout = "";
}


@if (Model.Count > 0)
{
    int i = 1;
    var beforeItem = "";
    var beforeItemClass = "bg-white";
    var afterItemClass = "bg-yellow-row-table";
    foreach (var item in Model)
    {
        <!--if (i % 2 == 0)
        {
            <tr class="bg-gray-table">
                <td width="50px" class="text-center">
                    <a class="btn btn-link" onclick="InsertCodeAccjs('@item.Id')">
                        <i class="fa fa-plus"></i>
                    </a>
                </td>
                <td width="50px" class="text-center">
                    <a class="btn btn-link" onclick="DeleteCodeAccjs('@item.Id')">
                        <i class="fa fa-trash"></i>
                    </a>
                </td>
                <td width="100px" style="border: 1px solid black; border-collapse: collapse;" class="filterable-cell text-center">@i</td>
                <td width="100px" style="border: 1px solid black; border-collapse: collapse;" class="filterable-cell text-center">@item.Code</td>
                <td width="500px" style="border: 1px solid black; border-collapse: collapse;" class="text-right">@item.Description</td>
                <td width="150px" style="border: 1px solid black; border-collapse: collapse;" class="filterable-cell text-center">@NewsWebsite.Common.StringExtensions.En2Fa(NewsWebsite.Common.StringExtensions.ToNumeric(item.Mosavab).ToString())</td>
                <td width="100px" style="border: 1px solid black; border-collapse: collapse;" class="filterable-cell text-center">@item.CodeAcc</td>
                <td width="500px" style="border: 1px solid black; border-collapse: collapse;" class="text-right">@item.TitleAcc</td>
                @*<td width="100px" style="border: 1px solid black; border-collapse: collapse;" class="filterable-cell text-center">@item.PercentBud</td>*@
                <td width="50px" class="filterable-cell text-center">
                    <a class="btn btn-icon" onclick="UpdateCodeAccjs('@item.Id','@item.Code','@item.Description')">
                        <i class="fa fa-balance-scale"></i>
                    </a>
                </td>
            </tr>
            i++;

        }
        else
        if (i % 2 == 1)
        {
            <tr style="background-color:#ffffff">
                <td width="50px" class="text-center">
                    <a class="btn btn-link" onclick="InsertCodeAccjs('@item.Id')">
                        <i class="fa fa-plus"></i>
                    </a>
                </td>
                <td width="50px" class="text-center">
                    <a class="btn btn-link" onclick="DeleteCodeAccjs('@item.Id')">
                        <i class="fa fa-trash"></i>
                    </a>
                </td>
                <td width="100px" style="border: 1px solid black; border-collapse: collapse;" class="filterable-cell text-center">@i</td>
                <td width="100px" style="border: 1px solid black; border-collapse: collapse;" class="filterable-cell text-center">@item.Code</td>
                <td width="500px" style="border: 1px solid black; border-collapse: collapse;" class="text-right">@item.Description</td>
                <td width="150px" style="border: 1px solid black; border-collapse: collapse;" class="filterable-cell text-center">@NewsWebsite.Common.StringExtensions.En2Fa(NewsWebsite.Common.StringExtensions.ToNumeric(item.Mosavab).ToString())</td>
                <td width="100px" style="border: 1px solid black; border-collapse: collapse;" class="filterable-cell text-center">@item.CodeAcc</td>
                <td width="500px" style="border: 1px solid black; border-collapse: collapse;" class="text-right">@item.TitleAcc</td>
                @*<td width="100px" style="border: 1px solid black; border-collapse: collapse;" class="filterable-cell text-center">@item.PercentBud</td>*@
                <td width="50px" class="text-center">
                    <a class="btn btn-icon" onclick="UpdateCodeAccjs('@item.Id','@item.Code','@item.Description')">
                        <i class="fa fa-balance-scale"></i>
                    </a>
                </td>
            </tr>
            i++;

        }-->
        var shouldClass = @beforeItem == @item.Code ? @beforeItemClass : @afterItemClass;
        <tr class="@shouldClass">
                <td width="50px" class="text-center">
                    <a class="btn btn-link" onclick="InsertCodeAccjs('@item.Id')">
                        <i class="fa fa-plus"></i>
                    </a>
                </td>
                <td width="50px" class="text-center">
                    <a class="btn btn-link" onclick="DeleteCodeAccjs('@item.Id')">
                        <i class="fa fa-trash"></i>
                    </a>
                </td>
                <td width="100px" style="border: 1px solid black; border-collapse: collapse;" class="filterable-cell text-center">@i</td>
                <td width="100px" style="border: 1px solid black; border-collapse: collapse;" class="filterable-cell text-center">@item.Code</td>
                <td width="500px" style="border: 1px solid black; border-collapse: collapse;" class="text-right">@item.Description</td>
                <td width="150px" style="border: 1px solid black; border-collapse: collapse;" class="filterable-cell text-center">@NewsWebsite.Common.StringExtensions.En2Fa(NewsWebsite.Common.StringExtensions.ToNumeric(item.Mosavab).ToString())</td>
                <td width="100px" style="border: 1px solid black; border-collapse: collapse;" class="filterable-cell text-center">@item.CodeAcc</td>
                <td width="500px" style="border: 1px solid black; border-collapse: collapse;" class="text-right">@item.TitleAcc</td>
                @*<td width="100px" style="border: 1px solid black; border-collapse: collapse;" class="filterable-cell text-center">@item.PercentBud</td>*@
                <td width="50px" class="filterable-cell text-center">
                    <a class="btn btn-icon" onclick="UpdateCodeAccjs('@item.Id','@item.Code','@item.Description')">
                        <i class="fa fa-balance-scale"></i>
                    </a>
                </td>
        </tr>
        if (@item.Code != beforeItem)
        {
            var t = beforeItemClass;
            beforeItemClass = afterItemClass;
            afterItemClass = t;
        }

        beforeItem = @item.Code;
            i++;


    }
}
else
{
    <tr>
        <td colspan="9" class="text-center">هیچ ردیفی در جدول وجود ندارد.</td>
    </tr>
}